# 项目分析
本项目目前设计为开源的个人用视频生成AI网站，包含图生视频，文生图，提示词优化， 故事板创建的基本功能，基本功能组成项目， 项目是指由idea到剧本故事板，图像创建，到视频生成，（后续可能包括音乐创建），的全流程网站，目前基本实现了**图生视频，文生图，提示词优化**的基本功能，欠缺故事板创建和项目构建功能。
计划：
故事板：待具体讨论，需要结合真实视频生成业务场景考虑。
## 前端 frontend
### 技术
- React
- JavaScript
### 目前急缺
- 视频，图像的删除，下载。 目前视频和图像都存放在服务器后端，前端只获得了后端具体的url，但是根绝React的结构，这些放在后端的数据无法直接通过url获取或者删除， 除非使用public文件夹并使用软链接指向该url。后续修改方案是直接在后端返回原始信息，而不是url。
- 视频，图像生成时间的及显示。目前的生成方案是前端提交任务，后端生成task_id，并管理task_id，再向python计算模块异步提交生成任务，然后2秒的间隔轮询python计算模块获取生成时间，本来python可以原生再终端输出生成进度，但是要作为信息返回后端，需要设计一个数据结构，包含task_id，生成状态，生成时间，生成进度等信息。
- 考虑加入浏览器缓存的配合，目前的问题是用户刷新后前端数据会消失，包括task_id等。

## 后端 backend
- Node.js
- Typescript
### 目前急缺
- 如上所述的后端需要轮询视频/图像的生成时间。
- 需要设计存储模块，方便管理task_id， 考虑使用本地json格式存储。

## AI 模块
### 技术栈
- diffusion模型基本原理
- Diffsynth-Studio， diffusers, transformers使用
### 目前急缺
- 返回生成时间信息
- negative prompt不完善，和后端有关系， prompt输入不完善导致生成效果不好
- 生成缓慢，需要设计加速方法，包括attention加速，lora算法等等
